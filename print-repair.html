<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>ใบแจ้งซ่อม</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @media print {
            body { -webkit-print-color-adjust: exact; }
            .no-print { display: none; }
        }
    </style>
</head>
<body class="p-8">
    <div class="max-w-2xl mx-auto border p-10 bg-white rounded-lg">
        <h1 class="text-2xl font-bold text-center mb-8">ใบแจ้งซ่อมเครื่องมือ</h1>
        <div class="space-y-4 text-lg mb-8">
            <p><strong>วันที่:</strong> <span id="date"></span></p>
            <p><strong>รายการ:</strong> <span id="tool-name" class="font-semibold"></span></p>
            <p><strong>รหัส/S/N:</strong> <span id="tool-code" class="font-semibold"></span></p>
            <div>
                <p><strong>อาการที่ชำรุด:</strong></p>
                <p id="problem" class="mt-1 p-2 border h-24 rounded"></p>
            </div>
        </div>
        <div class="grid grid-cols-2 gap-16 mt-20 text-center">
            <div>
                <p>.................................................</p>
                <p>(<span id="reporter-name"></span>)</p>
                <p><strong>ผู้แจ้งซ่อม</strong></p>
            </div>
            <div>
                <p>.................................................</p>
                <p>(.....................)</p>
                <p><strong>ผู้รับเรื่อง</strong></p>
            </div>
        </div>
        <div class="text-center mt-12 no-print">
            <button onclick="window.print()" class="bg-blue-600 text-white py-2 px-6 rounded">พิมพ์เอกสาร</button>
        </div>
    </div>
    <script>
        const params = new URLSearchParams(window.location.search);
        const now = new Date();
        document.getElementById('date').innerText = now.toLocaleDateString('th-TH');
        document.getElementById('tool-name').innerText = params.get('toolName') || 'N/A';
        document.getElementById('tool-code').innerText = params.get('toolCode') || 'N/A';
        document.getElementById('problem').innerText = params.get('problem') || '';
        document.getElementById('reporter-name').innerText = params.get('reporter') || '.....................';
        window.onload = () => window.print();
    </script>
</body>
</html>
